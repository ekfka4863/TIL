---
date: 2021-06-30-Wednesday
---

# Reactë¥¼ í™œìš©í•˜ì—¬ ë©‹ì§„ íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°
- í•™ìŠµëª©í‘œ: ë¦¬ì•¡íŠ¸ì˜ ë‹¤ì–‘í•œ ê°œë…ë“¤ì„ í™œìš©í•˜ì—¬ íˆ¬ë‘ ë¦¬ìŠ¤íŠ¸ ì•±ì„ ë§Œë“ ë‹¤
	1. styled-componentsë¥¼ í†µí•œ ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ë§  
	2. Context APIë¥¼ ì‚¬ìš©í•œ ì „ì—­ ìƒíƒœ ê´€ë¦¬ 
	3. ë°°ì—´ ìƒíƒœ ë‹¤ë£¨ê¸° 

<br>
<hr>
<br>


## 1. ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸° 
- ìš°ì„  create-react-app ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤; 
```
	$ npx create-react-app todolist-project
```
- ê·¸ë¦¬ê³ , í•´ë‹¹ ë””ë ‰í„°ë¦¬ì— ë“¤ì–´ê°€ì„œ ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ `react-icons`ì™€ `styled-components`ë¥¼ ì„¤ì¹˜í•œë‹¤;     
```
	$ cd todolist-project
	$ yarn add react-icons styled-components
```
- ê·¸ ë‹¤ìŒì—ëŠ” ì—ë””í„°ë¡œ í•´ë‹¹ ë””ë ‰í„°ë¦¬ë¥¼ ì—´ê³  `yarn start`ë¥¼ í•˜ì—¬ ê°œë°œ ì„œë²„ë¥¼ ì‹¤í–‰í•´ì¤€ë‹¤.

<br>
<br>

> ë§Œë“¤ì–´ì•¼ í•  ì»´í¬ë„ŒíŠ¸ í™•ì¸í•˜ê¸° 
- ìš°ë¦¬ê°€ ì´ë²ˆì— ë§Œë“¤ì–´ì•¼ í•  ì»´í¬ë„ŒíŠ¸ëŠ” ì´ 5ê°œë‹¤.
	- **TodoTemplate**:    
	ì´ ì»´í¬ë„ŒíŠ¸ëŠ” ìš°ë¦¬ê°€ ë§Œë“¤ íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ì˜ ë ˆì´ì•„ì›ƒì„ ì„¤ì •í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë‹¤.   
	í˜ì´ì§€ì˜ ì¤‘ì•™ì— ê·¸ë¦¼ìê°€ ì ìš©ëœ í°ìƒ‰ ë°•ìŠ¤ë¥¼ ë³´ì—¬ì¤€ë‹¤.
	- **TodoHead**:   
	ì´ ì»´í¬ë„ŒíŠ¸ëŠ” ì˜¤ëŠ˜ì˜ ë‚ ì§œì™€ ìš”ì¼ì„ ë³´ì—¬ì£¼ê³ , ì•ìœ¼ë¡œ í•´ì•¼ í•  ì¼ì´ ëª‡ê°œ ë‚¨ì•˜ëŠ”ì§€ ë³´ì—¬ì¤€ë‹¤.
	- **TodoList**:   
	ì´ ì»´í¬ë„ŒíŠ¸ëŠ” í•  ì¼ì— ëŒ€í•œ ì •ë³´ê°€ ë“¤ì–´ìˆëŠ” todos ë°°ì—´ì„ ë‚´ì¥í•¨ìˆ˜ map ì„ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ê°œì˜ TodoItem ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•´ì¤€ë‹¤.
	- **TodoItem**:   
	ê° í•  ì¼ì— ëŒ€í•œ ì •ë³´ë¥¼ ë Œë”ë§í•´ì£¼ëŠ” ì»´í¬ë„ŒíŠ¸ë‹¤.   
	ì¢Œì¸¡ì— ìˆëŠ” ì›ì„ ëˆ„ë¥´ë©´ í•  ì¼ì˜ ì™„ë£Œ ì—¬ë¶€ë¥¼ toggle í•  ìˆ˜ ìˆë‹¤.   
	í•  ì¼ì´ ì™„ë£Œëì„ ë• ì¢Œì¸¡ì— ì²´í¬ê°€ ë‚˜íƒ€ë‚˜ê³  í…ìŠ¤íŠ¸ì˜ ìƒ‰ìƒì´ ì—°í•´ì§„ë‹¤.   
	ê·¸ë¦¬ê³ , ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ íœ´ì§€í†µ ì•„ì´ì½˜ì´ ë‚˜íƒ€ë‚˜ê³  ì´ë¥¼ ëˆ„ë¥´ë©´ í•­ëª©ì´ ì‚­ì œëœë‹¤.
	- **TodoCreate**:   
	ìƒˆë¡œìš´ í•  ì¼ì„ ë“±ë¡í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì»´í¬ë„ŒíŠ¸ë‹¤.   
	TodoTemplate ì˜ í•˜ë‹¨ë¶€ì— ì´ˆë¡ìƒ‰ ì› ë²„íŠ¼ì„ ë Œë”ë§í•´ì£¼ê³ , ì´ë¥¼ í´ë¦­í•˜ë©´ í•  ì¼ì„ ì…ë ¥ í•  ìˆ˜ ìˆëŠ” í¼ì´ ë‚˜íƒ€ë‚œë‹¤. ë²„íŠ¼ì„ ë‹¤ì‹œ ëˆ„ë¥´ë©´ í¼ì´ ì‚¬ë¼ì§„ë‹¤.

<br>
<br>

> í˜ì´ì§€ì— íšŒìƒ‰ ë°°ê²½ìƒ‰ìƒ ì ìš©
- ë¨¼ì € í˜ì´ì§€ì— `styled-components`ë¥¼ ì‚¬ìš©í•´ì„œ `íšŒìƒ‰ (#e9ecef)` ë°°ê²½ìƒ‰ìƒì„ ì ìš©í•´ë³´ê² ë‹¤.     
_ì´ë•Œ, styled-componentsì—ì„œ íŠ¹ì • ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ì„œ ìŠ¤íƒ€ì¼ë§ í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ <u>ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼ì„ ì¶”ê°€í•˜ê³  ì‹¶ì„ ë• `createGlobalStyle`ì´ë¼ëŠ” ê²ƒì„ ì‚¬ìš©í•œë‹¤</u>. ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë§Œë“¤ì–´ì§€ëŠ”ë°, ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ë©´ ëœë‹¤._

[App.js]            

```javascript
	import React from 'react';
	import {createGlobalStyle} from 'styled-components'; 

	const GlobalStyle = createGlobalStyle`
		body {
			background: #e9ecef;
		}
	`;

	function App() {
		return (
			<>
				<GlobalStyle />
				<div>ì•ˆë…•í•˜ì„¸ìš”</div>
			</>
		);
	}

	export default App; 
```

<br>
<br>

> TodoTemplate ë§Œë“¤ê¸°
- TodoTemplate ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ì„œ ì¤‘ì•™ì— ì •ë ¬ëœ í°ìƒ‰ ë°•ìŠ¤ë¥¼ ë³´ì—¬ì¤˜ë³´ì.    
- src ë””ë ‰í† ë¦¬ì— components ë¼ëŠ” ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³ , ê·¸ ì•ˆì— `TodoTemplate.js`ë¥¼ ë§Œë“ ë‹¤.   
~~cf. ì•ìœ¼ë¡œ ë§Œë“¤ ì»´í¬ë„ŒíŠ¸ë“¤ì€ ëª¨ë‘ components ë””ë ‰í„°ë¦¬ì— ë§Œë“ ë‹¤. ~~       

[components/TodoTemplate.js]        

```javascript
	import React from 'react';
	import styled from 'styled-components';

	const TodoTemplateBlock = styled.div`
		width: 512px;
		height: 768px;

		position: relative; /* ì¶”í›„ ë°•ìŠ¤ í•˜ë‹¨ì— ì¶”ê°€ ë²„íŠ¼ì„ ìœ„ì¹˜ì‹œí‚¤ê¸° ìœ„í•œ ì„¤ì • */
		background: white;
		border-radius: 16px;
		box-shadow: 0 0 8px 0 rgba(0, 0, 0, 0.04);

		margin: 0 auto; /* í˜ì´ì§€ ì¤‘ì•™ì— ë‚˜íƒ€ë‚˜ë„ë¡ ì„¤ì • */

		margin-top: 96px;
		margin-bottom: 32px;
		display: flex;
		flex-direction: column;
	`;

	function TodoTemplate({children}) {
		return <TodoTemplateBlock>{children}</TodoTemplateBlock>;
	}

	export default TodoTemplate;
```
- ë‹¤ ì‘ì„±í–ˆìœ¼ë©´ ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ Appì—ì„œ ë Œë”ë§í•œë‹¤;    

[App.js]      

```javascript
	import React from 'react';
	import { createGlobalStyle } from 'styled-components';
	import TodoTemplate from './components/TodoTemplate';    // ì»´í¬ë„ŒíŠ¸ íŒŒì¼ê³¼ App.jsë¥¼ ì—°ê²°í•´ì£¼ê¸°

	const GlobalStyle = createGlobalStyle`
		body {
			background: #e9ecef;
		}
	`;

	function App() {
		return (
			<>
				<GlobalStyle />
				<TodoTemplate>ì•ˆë…•í•˜ì„¸ìš”</TodoTemplate>
			</>
		);
	}

	export default App;
```

<br>
<br>

> TodoHead ë§Œë“¤ê¸°
- ì´ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ì˜¤ëŠ˜ì˜ ë‚ ì§œ, ìš”ì¼, ê·¸ë¦¬ê³  ë‚¨ì€ í•  ì¼ ê°œìˆ˜ë¥¼ ë³´ì—¬ì¤€ë‹¤.    
- components ë””ë ‰í† ë¦¬ì— TodoHead.jsë§Œë“¤ê³  ì•„ë˜ì™€ ê°™ì´ ì½”ë“œ ì‘ì„±í•˜ê¸°;      

[components/TodoHead.js]         

```javascript
	import React from 'react';
	import styled from 'styled-components';

	const TodoHeadBlock = styled.div`
		padding-top: 48px;
		padding-left: 32px;
		padding-right: 32px;
		padding-bottom: 24px;
		border-bottom: 1px solid #e9ecef;
		h1 {
			margin: 0;
			font-size: 36px;
			color: #343a40;
		}
		.day {
			margin-top: 4px;
			color: #868e96;
			font-size: 21px;
		}
		.tasks-left {
			color: #20c997;
			font-size: 18px;
			margin-top: 40px;
			font-weight: bold;
		}
	`;

	function TodoHead() {
		return(
			<TodoHeadBlock>
				<h1>2021ë…„ 7ì›” 5ì¼</h1>
			</TodoHeadBlock>
		)
	}

	export default TodoHead;
```
- ì´ì œ ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ App ì—ì„œ ë Œë”ë§í•´ì¤€ë‹¤;      

[App.js]        

```javascript
import React from 'react';
	import { createGlobalStyle } from 'styled-components';
	import TodoTemplate from './components/TodoTemplate';
	import TodoHead from './components/TodoHead';

	const GlobalStyle = createGlobalStyle`
		body {
			background: #e9ecef;
		}
	`;

	function App() {
		return (
			<>
				<GlobalStyle />
				<TodoTemplate>
					<TodoHead />
				</TodoTemplate>
			</>
		);
	}

	export default App;
```

<br>
<br>

> TodoList ë§Œë“¤ê¸°
- ì´ë²ˆì—ëŠ” ì—¬ëŸ¬ê°œì˜ í•  ì¼ í•­ëª©ì„ ë³´ì—¬ì£¼ê²Œ ë  TodoList ë¥¼ ë§Œë“¤ì–´ë³´ê² ë‹¤;   

[components/TodoList.js]      

```javascript
	import React from 'react';
	import styled from ''styled-components;

	const TodoListBlock = styled.div`
		flex: 1;     /* ìì‹ ì´ ì°¨ì§€ í•  ìˆ˜ ìˆëŠ” ì˜ì—­ì„ ê½‰ ì±„ìš°ë„ë¡ ì„¤ì •. */
		padding: 20px 32px;
		padding-bottom: 48px;
		overflow-y: auto;
		background: gray; /* ì‚¬ì´ì¦ˆ ì¡°ì •ì´ ì˜ ë˜ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•œ ì„ì‹œ ìŠ¤íƒ€ì¼ */
	`;

	function TodoList() {
		return <TodoListBlock>TodoList</TodoListBlock>;
	}

	export default TodoList;
```
- ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ App ì—ì„œ ë Œë”ë§;      

[App.js]      

```javascript
	import React from 'react';
	import { createGlobalStyle } from 'styled-components';
	import TodoTemplate from './components/TodoTemplate';
	import TodoHead from './components/TodoHead';
	import TodoList from './components/TodoList';

	const GlobalStyle = createGlobalStyle`
		body {
			background: #e9ecef;
		}
	`;

	function App() {
		return (
			<>
				<GlobalStyle />
				<TodoTemplate>
					<TodoHead />
					<TodoList />
				</TodoTemplate>
			</>
		);
	}

	export default App;
```

<br>
<br>

> TodoItem ë§Œë“¤ê¸°
- ì´ë²ˆ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ê° í•  ì¼ í•­ëª©ë“¤ì„ ë³´ì—¬ì£¼ëŠ” TodoItem ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ë³´ê² ë‹¤.    
- ê·¸ë¦¬ê³  [react-icons](https://react-icons.netlify.com/#/icons/md)ì—ì„œ `MdDone`ê³¼ `MdDelete` ì•„ì´ì½˜ì„ ì‚¬ìš©í•œë‹¤.

[TodoItem.js]      

```javascript
	import React from 'react';
	import styled, {css} from 'styled-components';
	import {MdDone, MdDelete} from 'react-icons/md';

	const Remove = styled.div`
		display: flex;
		align-items: center;
		justify-content: center;
		color: #dee2e6;
		font-size: 24px;
		cursor: pointer;
		&:hover {
			color: #ff6b6b;
		}
		display: none;
	`;

	const TodoItemBlock = styled.div`
		display: flex;
		align-items: center;
		padding-top: 12px;
		padding-bottom: 12px;
		&:hover {
			${Remove} {
				display: initial;
			}
		}
	`;

	const CheckCircle = styled.div`
		width: 32px;
		height: 32px;
		border-radius: 16px;
		border: 1px solid #ced4da;
		font-size: 24px;
		display: flex;
		align-items: center;
		justify-content: center;
		margin-right: 20px;
		cursor: pointer;
		${props =>
			props.done &&
			css`
				border: 1px solid #38d9a9;
				color: #38d9a9;
			`}
	`;

	const Text = styled.div`
		flex: 1;
		font-size: 21px;
		color: #495057;
		${props =>
			props.done &&
			css`
				color: #ced4da;
			`}
	`;

	function TodoItem({ id, done, text }) {
		return (
			<TodoItemBlock>
				<CheckCircle done={done}>{done && <MdDone />}</CheckCircle>
				<Text done={done}>{text}</Text>
				<Remove>
					<MdDelete />
				</Remove>
			</TodoItemBlock>
		)
	}

	export default TodoItem; 
```
- ìœ„ì˜ ì½”ë“œì—ì„œ `TodoItemBlock` ì½”ë“œê°€ ì¡°ê¸ˆ ìƒì†Œí•  ìˆ˜ ìˆëŠ”ë°, ì—¬ê¸°ì„œ ì‚¬ìš©ëœ ê¸°ëŠ¥ì€ [Component Selector](https://www.styled-components.com/docs/advanced#referring-to-other-components)ë¼ëŠ” ê¸°ëŠ¥ì´ë‹¤.   
ì´ ìŠ¤íƒ€ì¼ì€ TodoItemBlock ìœ„ì— ì»¤ì„œê°€ ìˆì„ ë•Œ, Remove ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì£¼ë¼ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§€ê³  ìˆë‹¤.
```javascript
	const TodoItemBlock = styled.div`
		display: flex;
		align-items: center;
		padding-top: 12px;
		padding-bottom: 12px;
		&:hover {
			${Remove} {
				display: initial;
			}
		}
	`;
```
- ì´ì œ ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ TodoList ì—ì„œ ë Œë”ë§í•œë‹¤;      

[components/TodoList.js]      

```javascript
	import React from 'react';
	import styled from 'styled-components';
	import TodoItem from './TodoItem';

	const TodoListBlock = styled.div`
		flex: 1;
		padding: 20px 32px;
		padding-bottom: 48px;
		overflow-y: auto;
		// background: gray; /* ì‚¬ì´ì¦ˆ ì¡°ì •ì´ ì˜ ë˜ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•œ ì„ì‹œ ìŠ¤íƒ€ì¼ */
	`;

	function TodoList() {
		return (
			<TodoListBlock>
				<TodoItem text="í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°" done={true}/>
				<TodoItem text="ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ë§ í•˜ê¸°" done={true}/>
				<TodoItem text="Context ë§Œë“¤ê¸°" done={false}/>
				<TodoItem text="ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°" done={false}/>
				{/* <TodoItem text="" done={true}/> */}
			</TodoListBlock>
		);
	}

	export default TodoList;
```

<br>
<br>

> TodoCreate ë§Œë“¤ê¸° 
- ì´ë²ˆì—ëŠ” ìƒˆë¡œìš´ í•­ëª©ì„ ë“±ë¡ í•  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ë³´ê² ë‹¤. 
- ì´ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” react-icons ì˜ `MdAdd`ë¥¼ ì‚¬ìš©í•œë‹¤.     
ê·¸ë¦¬ê³  ì´ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” <u>`useState`ë¥¼ ì‚¬ìš©í•˜ì—¬ í† ê¸€ í•  ìˆ˜ ìˆëŠ” **open ê°’ì„ ê´€ë¦¬**í•˜ë©°, ì´ ê°’ì´ `true` ì¼ ë•Œì—ëŠ” ì•„ì´ì½˜ì„ 45ë„ ëŒë ¤ì„œ X ëª¨ì–‘ì´ ë³´ì—¬ì§€ê²Œ í•œ í›„, ë²„íŠ¼ ìƒ‰ìƒì„ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ë°”ê¿”ì¤ë‹ˆë‹¤. ê·¸ë¦¬ê³ , í•  ì¼ì„ ì…ë ¥ í•  ìˆ˜ ìˆëŠ” í¼ë„ ë³´ì—¬ì¤€ë‹¤</u>;       

[components/TodoCreate.js]     

```javascript
	import React, {useState} from 'react';
	import styled, {css} from 'styled-components';
	import {MdAdd} from 'react-icons/md';

	const CircleButton = styled.button`
		background: #38d9a9;
		&:hover {
			background: #63e6be;
		}
		&:active {
			background: #20c997;
		}

		z-index: 5;
		cursor: pointer;
		width: 80px;
		height: 80px;
		display: block;
		align-items: center;
		justify-content: center;
		font-size: 60px;
		position: absolute;
		left: 50%;
		bottom: 0px;
		transform: translate(-50%, 50%);
		color: white;
		border-radius: 50%;
		border: none;
		outline: none;
		display: flex;
		align-items: center;
		justify-content: center;

		transition: 0.125s all ease-in;
		${props =>
			props.open &&
			css`
				background: #ff6b6b;
				&:hover {
					background: #ff8787;
				}
				&:active {
					background: #fa5252;
				}
				transform: translate(-50%, 50%) rotate(45deg);
			`}
	`;

	const InsertFormPositioner = styled.div`
		width: 100%;
		bottom: 0;
		left: 0;
		position: absolute;
	`;

	const InsertForm = styled.form`
		background: #f8f9fa;
		padding-left: 32px;
		padding-top: 32px;
		padding-right: 32px;
		padding-bottom: 72px;

		border-bottom-left-radius: 16px;
		border-bottom-right-radius: 16px;
		border-top: 1px solid #e9ecef;
	`;

	const Input = styled.input`
		padding: 12px;
		border-radius: 4px;
		border: 1px solid #dee2e6;
		width: 100%;
		outline: none;
		font-size: 18px;
		box-sizing: border-box;
	`;


	function TodoCreate() {
		const [open, setOpen] = useState(false); 

		const onToggle = () => setOpen(!open);

		return (
			<>
				{open && (
					<InsertPositioner>
						<InsertForm>
							<Input autoFocus placeholder="í•  ì¼ì„ ì…ë ¥ í›„, Enter ë¥¼ ëˆ„ë¥´ì„¸ìš”" />
						</InsertForm>
					</InsertPositioner>
					<CircleButton onClick={onToggle} open={open}>
						<MdAdd />
					</CircleButton>
				)}
			</>
		);
	}

	export default TodoCreate;
```
- ì´ì œ ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ App ì—ì„œ ë Œë”ë§í•œë‹¤;    

[App.js]      

```javascript
	import React from 'react';
	import { createGlobalStyle } from 'styled-components';
	import TodoTemplate from './components/TodoTemplate';
	import TodoHead from './components/TodoHead';
	import TodoList from './components/TodoList';
	import TodoCreate from './components/TodoCreate';

	const GlobalStyle = createGlobalStyle`
		body {
			background: #e9ecef;
		}
	`;

	function App() {
		return (
			<>
				<GlobalStyle />
				<TodoTemplate>
					<TodoHead />
					<TodoList />
					<TodoCreate />
				</TodoTemplate>
			</>
		);
	}

	export default App;
```
- ì´ì œ í”„ë¡œì íŠ¸ì˜ UI ê°€ ëª¨ë‘ ì™„ì„±ëë‹¤.   
<u>ì´ì œ **í”„ë¡œì íŠ¸ì˜ ìƒíƒœê´€ë¦¬**ë¥¼ í•´ì£¼ê² ë‹¤</u>.

<br>
<hr>
<br>

## 2. Context APIë¥¼ í™œìš©í•œ ìƒíƒœ ê´€ë¦¬ 

<br>

> ë¦¬ë“€ì„œ ë§Œë“¤ê¸°
- ë¨¼ì €, src ë””ë ‰í„°ë¦¬ì— `TodoContext.js` íŒŒì¼ì„ ìƒì„±í•˜ê³ , ê·¸ ì•ˆì— `useReducer`ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” TodoProvider ë¼ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“ ë‹¤;     
- ~~cf.     
`useReducer`ëŠ” useState ë§ê³  ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²• ì¤‘ í•˜ë‚˜ë‹¤. **useReducerë¥¼ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœ ì—…ë°ì´íŠ¸ ë¡œì§ì„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¶„ë¦¬ì‹œí‚¬ ìˆ˜ ìˆë‹¤.**~~      

<br>

[TodoContext.js]        

```javascript
	import React, {useReducer} from 'react';

	// í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•  ì´ˆê¸° ìƒíƒœë¥¼ ë°°ì—´ë¡œ ì •ì˜í•´ì¤€ë‹¤
	const initialTodos = [
		// initialTodosë¼ëŠ” ì´ˆê¸° ìƒíƒœ ë°°ì—´ ì•ˆì—ëŠ” ê°ì²´ê°€ 4ê°œ ìˆë‹¤. ì—¬ê¸°ì„œ id, text, doneì„ ì„¤ì •í•œë‹¤ 
		{  
			id: 1,
			text: 'í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°',
			done: true
		},
		{
			id: 2,
			text: 'ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ë§í•˜ê¸°',
			done: true
		},
		{
			id: 3,
			text: 'Context ë§Œë“¤ê¸°',
			done: false
		},
		{
			id: 4,
			text: 'ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°',
			done: false
		}
	];

	// reducer í•¨ìˆ˜ ë§Œë“¤ê¸° -> ì²«ë²ˆì§¸ ì¸ìë¡œ ë„˜ì–´ì˜¤ëŠ” reducerí•¨ìˆ˜ë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœ(state)ê°€ í–‰ë™(action)ì— ë”°ë¼ ì–´ë–»ê²Œ ë³€í•´ì•¼í•˜ëŠ”ì§€ë¥¼ ì •ì˜í•œë‹¤
	// Tip! switch ë¶„ê¸°ë¬¸ì„ ì´ìš©í•˜ë©´ ì´í•´í•˜ê¸° ì‰½ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
	// ìš°ë¦¬ëŠ” ì´ 3ê°€ì§€ì˜ actionì„ ë§Œë“¤ì–´ ì¤„ ê²ƒì´ë‹¤ -> CREATE, TOGGLE, REMOVE
	function todoReducer(state, action) {
		switch (action.type) {  
			case 'CREATE':    // ë§Œì•½ì— ì•¡ì…˜ íƒ€ì…ì´ CREATEë©´
				return state.concat(action.todo);  // actionì•ˆì— todo í•­ëª©ì„ concatìœ¼ë¡œ ë„£ì–´ì„œ ë‚˜ì¤‘ì— dispatch í•´ì¤„ ê²ƒì´ë‹¤
			case 'TOGGLE':    // ë§Œì•½ì— ì•¡ì…˜ íƒ€ì…ì´ TOGGLEì´ë©´
				return state.map(todo =>    // ë§Œì•½ì— todoì˜ idê°€ actionìœ¼ë¡œ ë°›ì•„ì˜¨ idì™€ ê°™ë‹¤ë©´ -> í•´ë‹¹ todoë¥¼ ê¸°ì¡´ todo.doneê°’ì„ ë°˜ì „ ì‹œí‚¨ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í• ê²ƒì´ë‹¤. ë§Œì•½ todo.id !== action.idë¼ë©´ ê·¸ëƒ¥ todoë¥¼ ê·¸ëƒ¥ ìœ ì§€ì‹œí‚¨ë‹¤
				// ì´ë ‡ê²Œ í•¨ìœ¼ë¡œì¨ todos ë°°ì—´ì— ìˆëŠ” íŠ¹ì • í•­ëª©ì„ ì—…ë°ì´íŠ¸ í•´ì¤„ ìˆ˜ê°€ ìˆë‹¤.
					todo.id === action.id ? {...todo, done: !todo.done} : todo
				);
			case 'REMOVE':    // ë§Œì•½ì— ì•¡ì…˜ íƒ€ì…ì´ REMOVEë©´
				return state.filter(todo => todo.id !== action.id);
				// filterë¥¼ ì‚¬ìš©í•´ì„œ ê° todoì— ê´€í•˜ì—¬, todoì˜ idì™€ actionì˜ idê°€ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ê²ƒë§Œ ê°€ì ¸ì˜¤ê² ë‹¤ ... ë¼ëŠ” í•´ì„! ê·¸ëŸ¬ë©´ ì¼ì¹˜í•˜ëŠ” ê²ƒì´ ì‚¬ë¼ì§€ê²Œ ëœ ìƒˆë¡œìš´ ìƒíƒœë¡œ ë°°ì—´ì´ ì—…ë°ì´íŠ¸ ë˜ëŠ” ê²ƒ!
			default:
				throw new Error(`Unhandled action type: ${action.type}`);
		}
	}

	export function TodoProvider({ children }) {
		const [state, dispatch] = useReducer(todoReducer, initialTodos);   // ì²«ë²ˆì§¸ ì¸ìëŠ” ë¦¬ë“€ì„œ í•¨ìˆ˜. ìœ„ì—ì„œ ì •ì˜í•´ ë‘ì—ˆë‹¤. ê·¸ë¦¬ê³  ë‘ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ëŠ” í•´ë‹¹ ë¦¬ë“€ì„œì˜ ê¸°ë³¸ê°’ì„ ë„£ì–´ì£¼ëŠ”ë°, ìœ„ì—ì„œ initialTodosë¥¼ ì´ë¯¸ ë§Œë“¤ì–´ë†“ì•˜ìŒ! 

		return (
			// <TodoStateContext.Provider value={state}>
			// 	<TodoDispatchContext.Provider value={dispatch}>
			// 		{children}
			// 	</TodoDispatchContext.Provider>
			// </TodoStateContext.Provider>
		);
	}
```

<br>

> Context ë§Œë“¤ê¸°
- ì´ì œ `state`ë¥¼ ìœ„í•œ Context í•˜ë‚˜. ê·¸ë¦¬ê³  `dispatch`ë¥¼ ìœ„í•œ Context í•˜ë‚˜. ì´ë ‡ê²Œ ì´ ë‘ ê°œì˜ Contextë¥¼ ë§Œë“¤ì–´ì„œ, ì´ ë‘ Contextë¥¼ í†µí•´ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤„ê²ƒì´ë‹¤.       
~~cf. ì´ë•Œ, ë¬¼ë¡  í•˜ë‚˜ì˜ Contextë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•´ ì£¼ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ê¸´ í•˜ì§€ë§Œ, ë”°ë¡œë”°ë¡œ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í›¨ì”¬ í¸í•˜ë‹¤!~~       
ì•„ë˜ì™€ ê°™ì´;     

[TodoContext.js]        

```javascript
	import React, {useReducer, createContext} from 'react';
	// import {createContext} from 'react';

	const initialTodos = [
		{  
			id: 1,
			text: 'í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°',
			done: true
		},
		{
			id: 2,
			text: 'ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ë§í•˜ê¸°',
			done: true
		},
		{
			id: 3,
			text: 'Context ë§Œë“¤ê¸°',
			done: false
		},
		{
			id: 4,
			text: 'ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°',
			done: false
		}
	];

	
	function todoReducer(state, action) {
		switch (action.type) {  
			case 'CREATE':    
				return state.concat(action.todo);  
			case 'TOGGLE':    
				return state.map(todo =>   
					todo.id === action.id ? {...todo, done: !todo.done} : todo
				);
			case 'REMOVE':   
				return state.filter(todo => todo.id !== action.id);
			default:
				throw new Error(`Unhandled action type: ${action.type}`);
		}
	}

	// ì•„ë˜ì˜ stateì™€ dispatchë¥¼ ìœ„í•œ Contextë¥¼ ë§Œë“¤ì–´ ì¤€ë‹¤. ì´ 2ê°œ! ë”°ë¡œë”°ë¡œ! 
	const TodoStateContext = createContext();
	const TodoDispatchContext = createContext();

	// Contextë¥¼ ë§Œë“¤ë©´ ê·¸ ì•ˆì— Providerë¼ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ìˆë‹¤. ê·¸ë¦¬ê³  Providerë¥¼ ì‚¬ìš©í•˜ë©´ Contextì˜ valueë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. 
	// ê·¸ë˜ì„œ TodoProviderë¼ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê³ , TodoStateContextì˜ Providerì˜ valueëŠ” {state}ë¡œ, ë˜ TodoDispatchContextì˜ Providerì˜ valueëŠ” {dispatch}ë¡œ ì„¤ì •í•´ì¤€ë‹¤.

	export function TodoProvider({ children }) {
		const [state, dispatch] = useReducer(todoReducer, initialTodos);  

		return (
			<TodoStateContext.Provider value={state}>
				<TodoDispatchContext.Provider value={dispatch}>
					{/* ê·¸ë¦¬ê³  propsë¡œ ë°›ì•„ì˜¨ children ê°’ì„ ë‚´ë¶€ì— ë Œë”ë§ í•´ì¤€ë‹¤. */}
					{children}
				</TodoDispatchContext.Provider>
			</TodoStateContext.Provider>
		);
	}
```
- ìœ„ì™€ ê°™ì´ Contextë¥¼ ë§Œë“¤ì–´ ì£¼ë©´ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ `state`ë‚˜ `dispatch`ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•Œ ì•„ë˜ì™€ ê°™ì´ `useContext`ë¥¼ í†µí•´ ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤;      

```javascript
	import React, { useContext } from 'react';
	import { TodoStateContext, TodoDispatchContext } from '../TodoContext';

	function Sample() {
		const state = useContext(TodoStateContext);
		const dispatch = useContext(TodoDispatchContext);
		return <div>Sample</div>;
	}
```

<br>

> ì»¤ìŠ¤í…€ Hook ë§Œë“¤ê¸°
- í•˜ì§€ë§Œ ìš°ë¦¬ëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ `useContext`ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹ , **useContextë¥¼ ì‚¬ìš©í•˜ëŠ” ì»¤ìŠ¤í…€ Hook **ì„ ë§Œë“¤ì–´ì„œ ë‚´ë³´ë‚´ì£¼ê² ë‹¤;     

[TodoContext.js]      

```javascript
	import React, { useReducer, createContext, useContext } from 'react';

	const initialTodos = [
		{
			id: 1,
			text: 'í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°',
			done: true
		},
		{
			id: 2,
			text: 'ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ë§í•˜ê¸°',
			done: true
		},
		{
			id: 3,
			text: 'Context ë§Œë“¤ê¸°',
			done: false
		},
		{
			id: 4,
			text: 'ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°',
			done: false
		}
	];

	function todoReducer(state, action) {
		switch (action.type) {
			case 'CREATE':
				return state.concat(action.todo);
			case 'TOGGLE':
				return state.map(todo =>
					todo.id === action.id ? { ...todo, done: !todo.done } : todo
				);
			case 'REMOVE':
				return state.filter(todo => todo.id !== action.id);
			default:
				throw new Error(`Unhandled action type: ${action.type}`);
		}
	}

	const TodoStateContext = createContext();
	const TodoDispatchContext = createContext();

	export function TodoProvider({ children }) {
		const [state, dispatch] = useReducer(todoReducer, initialTodos);
		return (
			<TodoStateContext.Provider value={state}>
				<TodoDispatchContext.Provider value={dispatch}>
					{children}
				</TodoDispatchContext.Provider>
			</TodoStateContext.Provider>
		);
	}

	export function useTodoState() {
		return useContext(TodoStateContext);
	}

	export function useTodoDispatch() {
		return useContext(TodoDispatchContext);
	}
```
- ì´ë ‡ê²Œ í•´ì£¼ë©´ ë‚˜ì¤‘ì— ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤;      
```javascript
	import React from 'react';
	import { useTodoState, useTodoDispatch } from '../TodoContext';

	function Sample() {
		const state = useTodoState();
		const dispatch = useTodoDispatch();
		return <div>Sample</div>;
	}
```
- í•˜ì§€ë§Œ, ì·¨í–¥ì— ë”°ë¼ useContextë¥¼ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°”ë¡œ ì‚¬ìš©í•´ë„ ìƒê´€ì€ ì—†ë‹¤.

<br>

> nextId ê°’ ê´€ë¦¬í•˜ê¸°
- ìœ„ì—ì„œ state ê·¸ë¦¬ê³  dispatchë¥¼ ìœ„í•œ Contextë¥¼ ë§Œë“¤ì—ˆëŠ”ë°, ì—¬ê¸°ì„œ ì¶”ê°€ì ìœ¼ë¡œ `nextId` ê°’ì„ ìœ„í•œ Contextë¥¼ ë§Œë“¤ì–´ì£¼ê² ë‹¤. 
- ì—¬ê¸°ì„œ `nextId`ê°€ ì˜ë¯¸í•˜ëŠ” ê°’ì€ ìƒˆë¡œìš´ í•­ëª©ì„ ì¶”ê°€ í•  ë•Œ ì‚¬ìš©í•  ê³ ìœ  IDë‹¤.    
- ì´ ê°’ì€ `useRef`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê´€ë¦¬í•´ì£¼ê² ë‹¤;     

[TodoContext.js]      

```javascript
	import React, { useReducer, createContext, useContext, useRef } from 'react';  // useRef

	const initialTodos = [
		{
			id: 1,
			text: 'í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°',
			done: true
		},
		{
			id: 2,
			text: 'ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ë§í•˜ê¸°',
			done: true
		},
		{
			id: 3,
			text: 'Context ë§Œë“¤ê¸°',
			done: false
		},
		{
			id: 4,
			text: 'ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°',
			done: false
		}
	];

	function todoReducer(state, action) {
		switch (action.type) {
			case 'CREATE':
				return state.concat(action.todo);
			case 'TOGGLE':
				return state.map(todo =>
					todo.id === action.id ? { ...todo, done: !todo.done } : todo
				);
			case 'REMOVE':
				return state.filter(todo => todo.id !== action.id);
			default:
				throw new Error(`Unhandled action type: ${action.type}`);
		}
	}

	const TodoStateContext = createContext();
	const TodoDispatchContext = createContext();
	const TodoNextIdContext = createContext();    // nextId

	export function TodoProvider({ children }) {
		const [state, dispatch] = useReducer(todoReducer, initialTodos);
		const nextId = useRef(5);    // nextId -> ì´ˆê¹ƒê°’. ì¦‰, ë‹¤ìŒìœ¼ë¡œ ì˜¤ëŠ” idëŠ” 5ë¶€í„° ì‹œì‘

		return (
			<TodoStateContext.Provider value={state}>
				<TodoDispatchContext.Provider value={dispatch}>
					<TodoNextIdContext.Provider value={nextId}>
						{children}
					{/* nextId */}
					</TodoNextIdContext.Provider>
				</TodoDispatchContext.Provider>
			</TodoStateContext.Provider>
		);
	}

	export function useTodoState() {
		return useContext(TodoStateContext);
	}

	export function useTodoDispatch() {
		return useContext(TodoDispatchContext);
	}

	// nextId
	export function useTodoNextId() {
		return useContext(TodoNextIdContext);
	}
```
- `nextId` ê°’ì„ ìœ„í•œ Contextë¥¼ ë§Œë“¤ ë•Œì—ë„ ë§ˆì°¬ê°€ì§€ë¡œ `useTodoNextId`ë¼ëŠ” ì»¤ìŠ¤í…€ Hookì„ ë”°ë¡œ ë§Œë“¤ì–´ì£¼ì—ˆë‹¤.

<br>

> ì»¤ìŠ¤í…€ Hook ì—ì„œ ì—ëŸ¬ ì²˜ë¦¬
- ìœ„ì—ì„œ ë§Œë“  `useTodoState`, `useTodoDispatch`, `useTodoNextId` Hookì„ ì‚¬ìš©í•˜ë ¤ë©´, í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ TodoProvider ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ë Œë”ë§ë˜ì–´ ìˆì–´ì•¼í•œë‹¤.        
(e.g. App ì»´í¬ë„ŒíŠ¸ì—ì„œ ëª¨ë“  ë‚´ìš©ì„ TodoProviderë¡œ ê°ì‹¸ê¸°).    
ë§Œì•½ TodoProviderë¡œ ê°ì‹¸ì ¸ìˆì§€ ì•Šë‹¤ë©´ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ë„ë¡ ì»¤ìŠ¤í…€ Hook ì„ ìˆ˜ì •í•´ë³´ê² ë‹¤;    

[TodoProvider.js]      

```javascript
	import React, { useReducer, createContext, useContext, useRef } from 'react';

	const initialTodos = [
		{
			id: 1,
			text: 'í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°',
			done: true
		},
		{
			id: 2,
			text: 'ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ë§í•˜ê¸°',
			done: true
		},
		{
			id: 3,
			text: 'Context ë§Œë“¤ê¸°',
			done: false
		},
		{
			id: 4,
			text: 'ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°',
			done: false
		}
	];

	function todoReducer(state, action) {
		switch (action.type) {
			case 'CREATE':
				return state.concat(action.todo);
			case 'TOGGLE':
				return state.map(todo =>
					todo.id === action.id ? { ...todo, done: !todo.done } : todo
				);
			case 'REMOVE':
				return state.filter(todo => todo.id !== action.id);
			default:
				throw new Error(`Unhandled action type: ${action.type}`);
		}
	}

	const TodoStateContext = createContext();
	const TodoDispatchContext = createContext();
	const TodoNextIdContext = createContext();

	export function TodoProvider({ children }) {
		const [state, dispatch] = useReducer(todoReducer, initialTodos);
		const nextId = useRef(5);

		return (
			<TodoStateContext.Provider value={state}>
				<TodoDispatchContext.Provider value={dispatch}>
					<TodoNextIdContext.Provider value={nextId}>
						{children}
					</TodoNextIdContext.Provider>
				</TodoDispatchContext.Provider>
			</TodoStateContext.Provider>
		);
	}

	export function useTodoState() {
		const context = useContext(TodoStateContext);
		if (!context) {
			throw new Error('Cannot find TodoProvider');
		}
		return context;
	}

	export function useTodoDispatch() {
		const context = useContext(TodoDispatchContext);
		if (!context) {
			throw new Error('Cannot find TodoProvider');
		}
		return context;
	}

	export function useTodoNextId() {
		const context = useContext(TodoNextIdContext);
		if (!context) {
			throw new Error('Cannot find TodoProvider');
		}
		return context;
	}
```
- ë°˜ë“œì‹œ ì—ëŸ¬ë¥¼ ë°œìƒí•˜ê²Œ ë§Œë“¤ì–´ì¤„ í•„ìš”ëŠ” ì—†ì§€ë§Œ, Context ì‚¬ìš©ì„ ìœ„í•œ ì»¤ìŠ¤í…€ Hookì„ ë§Œë“¤ ë•Œ ì´ë ‡ê²Œ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ í•´ì¤€ë‹¤ë©´, ë‚˜ì¤‘ì— ì‹¤ìˆ˜ë¥¼ í•˜ê²Œ ëì„ ë•Œ ë¬¸ì œì ì„ ë¹¨ë¦¬ ë°œê²¬ í•  ìˆ˜ ìˆê²Œëœë‹¤.

<br>

> ì»´í¬ë„ŒíŠ¸ TodoProvider ë¡œ ê°ì‹¸ê¸°
- ì´ì œ ì§€ê¸ˆ ë§Œë“¤ê³  ìˆëŠ” TodoList í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ê³³ì—ì„œ Todo ê´€ë ¨ Contextë“¤ì„ ì‚¬ìš© í•  ìˆ˜ ìˆë„ë¡, App ì»´í¬ë„ŒíŠ¸ì—ì„œ TodoProviderë¥¼ ë¶ˆëŸ¬ì™€ì„œ ëª¨ë“  ë‚´ìš©ì„ TodoProviderë¡œ ê°ì‹¸ì£¼ê² ë‹¤;    

[App.js]      

```javascript
	import logo from './logo.svg';
	import { createGlobalStyle } from 'styled-components';
	import TodoTemplate from './components/TodoTemplate';
	import TodoHead from './components/TodoHead';
	import TodoList from './components/TodoList';
	import TodoCreate from './components/TodoCreate';
	// TodoProviderë¡œ ê°ì‹¸ì£¼ê¸° ìœ„í•´ ë¶ˆëŸ¬ì˜¨ë‹¤
	import { TodoProvider } from './TodoContext';

	const GlobalStyle = createGlobalStyle`
		body {
			background: #e9ecef;
		}
	`;

	function App() {
		return (
			<TodoProvider>
				<GlobalStyle />
				<TodoTemplate>
					<TodoHead />
					<TodoList />
					<TodoCreate />
				</TodoTemplate>
			</TodoProvider>
		);
	}

	export default App;
```
- ì´ì œ TodoHead ì»´í¬ë„ŒíŠ¸ì—ì„œ `useTodoState`ë¥¼ ì‚¬ìš©í•´ë³´ì;        

[components/TodoHead.js]         

```javascript
	import React from 'react';
	import styled from 'styled-components';
	// useTodoState
	import {useTodoState} from '../TodoContext';

	const TodoHeadBlock = styled.div`
		padding-top: 48px;
		padding-left: 32px;
		padding-right: 32px;
		padding-bottom: 24px;
		border-bottom: 1px solid #e9ecef;
		h1 {
			margin: 0;
			font-size: 36px;
			color: #343a40;
		}
		.day {
			margin-top: 4px;
			color: #868e96;
			font-size: 21px;
		}
		.tasks-left {
			color: #20c997;
			font-size: 18px;
			margin-top: 40px;
			font-weight: bold;
		}
	`;

	function TodoHead() {
		// useTodoState
		const todos = useTodoState();
		console.log(todos);   // just checking! 

		return(
			<TodoHeadBlock>
				<h1>2021ë…„ 7ì›” 5ì¼</h1>
				<div className="day">ìˆ˜ìš”ì¼</div>
				<div className="tasks-left">í•  ì¼ 2ê°œ ë‚¨ìŒ</div>
			</TodoHeadBlock>
		)
	}

	export default TodoHead;
```

<br>
<hr>
<br>

## 3. ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°
- Contextë¥¼ ë§Œë“¤ì–´ì£¼ì—ˆìœ¼ë‹ˆ, ì´ì œ Contextì™€ ì—°ë™ì„ í•˜ì—¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³´ì.    
Contextì— ìˆëŠ” `state`ë¥¼ ë°›ì•„ì™€ì„œ ë Œë”ë§ì„ í•˜ê³ , í•„ìš”í•œ ìƒí™©ì—ëŠ” íŠ¹ì • ì•¡ì…˜ì„ `dispatch`í•˜ë©´ ëœë‹¤.

<br>

> TodoHead ì™„ì„±í•˜ê¸°
- TodoHeadì—ì„œëŠ” `done` ê°’ì´ `false`ì¸ í•­ëª©ë“¤ì˜ ê°œìˆ˜ë¥¼ í™”ë©´ì— ë³´ì—¬ì¤€ë‹¤.     
 
[components/TodoHead.js]        

```javascript
	import React from 'react';
	import styled from 'styled-components';
	import { useTodoState } from '../TodoContext';

	const TodoHeadBlock = styled.div`
		padding-top: 48px;
		padding-left: 32px;
		padding-right: 32px;
		padding-bottom: 24px;
		border-bottom: 1px solid #e9ecef;
		h1 {
			margin: 0;
			font-size: 36px;
			color: #343a40;
		}
		.day {
			margin-top: 4px;
			color: #868e96;
			font-size: 21px;
		}
		.tasks-left {
			color: #20c997;
			font-size: 18px;
			margin-top: 40px;
			font-weight: bold;
		}
	`;

	function TodoHead() {
		const todos = useTodoState();
		// undoneTasksëŠ” !todo.done ë“¤ë§Œ í•„í„°ë§ ëœ ìƒˆë¡œìš´ ë°°ì—´
		const undoneTasks = todos.filter(todo => !todo.done);

		return (
			<TodoHeadBlock>
				<h1>2019ë…„ 7ì›” 10ì¼</h1>
				<div className="day">ìˆ˜ìš”ì¼</div>
				<div className="tasks-left">í•  ì¼ {undoneTasks.length}ê°œ ë‚¨ìŒ</div>
			</TodoHeadBlock>
		);
	}

	export default TodoHead;
```
- ê·¸ ë‹¤ìŒì—ëŠ”, ë‚ ì§œê°€ ë³´ì—¬ì§€ëŠ” ë¶€ë¶„ì„ ì‘ì—…í•´ì£¼ê² ë‹¤.    
ì´ ê³¼ì •ì—ì„œëŠ” `Date`ì˜ [toLocaleString](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString)ì´ë¼ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤;        

[omponents/TodoHead.js]      

```javascript
	import React from 'react';
	import styled from 'styled-components';
	import { useTodoState } from '../TodoContext';

	const TodoHeadBlock = styled.div`
		padding-top: 48px;
		padding-left: 32px;
		padding-right: 32px;
		padding-bottom: 24px;
		border-bottom: 1px solid #e9ecef;
		h1 {
			margin: 0;
			font-size: 36px;
			color: #343a40;
		}
		.day {
			margin-top: 4px;
			color: #868e96;
			font-size: 21px;
		}
		.tasks-left {
			color: #20c997;
			font-size: 18px;
			margin-top: 40px;
			font-weight: bold;
		}
	`;

	function TodoHead() {
		const todos = useTodoState();
		const undoneTasks = todos.filter(todo => !todo.done);

		// ë‚ ì§œ 
		const today = new Date(); 
		const dateString = today.toLocaleDateString('ko-KR', {
			year: 'numeric',
			month: 'long',
			day: 'numeric'
		});
		const dayName = today.toLocaleDateStrign('ko-KR', {weekday: 'long'});
		
		return (
			<TodoHeadBlock>
				<h1>{dateString}}</h1>
				<div className="day">{dayName}}</div>
				<div className="tasks-left">í•  ì¼ {undoneTasks.length}ê°œ ë‚¨ìŒ</div>
			</TodoHeadBlock>
		);
	}

	export default TodoHead;
```

<br>

> TodoList ì™„ì„±í•˜ê¸°
- TodoListì—ì„œëŠ” `state`ë¥¼ ì¡°íšŒí•˜ê³  ì´ë¥¼ ë Œë”ë§í•´ì£¼ì–´ì•¼ í•œë‹¤.     
ê·¸ë¦¬ê³ , `onToggle`, `onRemove`ì™€ ê°™ì´ í•­ëª©ì— ë³€í™”ë¥¼ ì£¼ëŠ” ì‘ì—…ì€ ì´ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‹ ê²½ ì“¸ í•„ìš” ì—†ë‹¤. ì´ ì‘ì—…ì€ ìš°ë¦¬ê°€ ê° TodoItem ì—ì„œ í•´ì¤„ ê²ƒì´ë‹¤!         
 
[components/TodoList.js]         

```javascript
	import React from 'react';
	import styled from 'styled-components';
	import TodoItem from './TodoItem';
	import { useTodoState } from '../TodoContext';

	const TodoListBlock = styled.div`
		flex: 1;
		padding: 20px 32px;
		padding-bottom: 48px;
		overflow-y: auto;
		// background: gray; /* ì‚¬ì´ì¦ˆ ì¡°ì •ì´ ì˜ ë˜ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•œ ì„ì‹œ ìŠ¤íƒ€ì¼ */
	`;

	function TodoList() {
		const state = useTodoState();

		return (
			<TodoListBlock>
				{TodoList.map(todo => (
					<TodoItem 
						key={todo.id}
						id={todo.id}
						text={todo.text}
						done={todo.done}
					/>
				))}
				{/* <TodoItem text="í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°" done={true}/>
				<TodoItem text="ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ë§ í•˜ê¸°" done={true}/>
				<TodoItem text="Context ë§Œë“¤ê¸°" done={false}/>
				<TodoItem text="ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°" done={false}/> */}
			</TodoListBlock>
		);
	}

	export default TodoList;
```

<br>

> TodoItem ì™„ì„±í•˜ê¸°
- ì´ë²ˆì—ëŠ” `dispatch`ë¥¼ ì‚¬ìš©í•´ì„œ í† ê¸€ ê¸°ëŠ¥ê³¼ ì‚­ì œ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³´ê² ë‹¤.      
 
[components/TodoItem.js]       

```javascript
	import React from 'react';
	import styled, {css} from 'styled-components';
	import {MdDone, MdDelete} from 'react-icons/md';
	import { useTodoDispatch } from '../TodoContext';

	const Remove = styled.div`
		display: flex;
		align-items: center;
		justify-content: center;
		color: #dee2e6;
		font-size: 24px;
		cursor: pointer;
		&:hover {
			color: #ff6b6b;
		}
		display: none;
	`;

	const TodoItemBlock = styled.div`
		display: flex;
		align-items: center;
		padding-top: 12px;
		padding-bottom: 12px;
		&:hover {     // ì»¤ì„œë¥¼ ì˜¬ë ¸ì„ ë•Œ ì•„ì´ì½˜ì´ ë‚˜íƒ€ë‚˜ê²Œ í•¨.
			${Remove} {  // ìœ„ì˜ Remove ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ë¥´í‚´
				display: initial;
			}
		}
	`;

	const CheckCircle = styled.div`
		width: 32px;
		height: 32px;
		border-radius: 16px;
		border: 1px solid #ced4da;
		font-size: 24px;
		display: flex;
		align-items: center;
		justify-content: center;
		margin-right: 20px;
		cursor: pointer;
		${props =>         // propsë¡œ ë°›ì•„ì˜¤ëŠ” ê²ƒì€... 
			props.done &&    // props.doneì„ ë°›ì•„ì˜¤ëŠ”ë°, ìŠ¤íƒ€ì¼ë§ì€ ì•„ë˜ì™€ ê°™ì´... 
			css`
				border: 1px solid #38d9a9;
				color: #38d9a9;
			`}
	`;

	const Text = styled.div`
		// ê¸°ë³¸ì ìœ¼ë¡œ Text ì»´í¬ë„ŒíŠ¸ê°€ ê°–ëŠ” ìŠ¤íƒ€ì¼ë§ì€ ì•„ë˜ì™€ ê°™ì§€ë§Œ
		flex: 1;
		font-size: 21px;
		color: #495057;
		${props =>       // ë§Œì•½ propsë¡œ doneì„ ë°›ì•„ì˜¤ë©´ ì»¬ëŸ¬ë¥¼ ì•½ê°„ ì—°í•œ íšŒìƒ‰ìœ¼ë¡œ ì„¤ì •í•´ ì¤€ë‹¤
			props.done &&
			css`
				color: #ced4da;
			`}
	`;


	function TodoItem({ id, done, text }) {

		const dispatch = useTodoDispatch();
		const onToggle = () => dispatch({ type: 'TOGGLE', id });
		const onRemove = () => dispatch({ type: 'REMOVE', id });


		return (
			<TodoItemBlock>
				{/* ë§Œì•½ì— CheckCircle ì•ˆì— done ê°’ì´ ìˆë‹¤ë©´ MdDone ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§ í•´ì¤€ë‹¤ */}
				<CheckCircle done={done}>{done && <MdDone />}</CheckCircle>
				<Text done={done}>{text}</Text>
				<Remove onClick={onRemove}>
					<MdDelete />
				</Remove>
			</TodoItemBlock>
		);
	}

	export default TodoItem; 
```
- ì—¬ê¸°ê¹Œì§€ ì½”ë“œë¥¼ ì˜ ì‘ì„±í–ˆë‹¤ë©´ ë§¨ ë§ˆì§€ë§‰ì¤„ì—ëŠ” `React.memo`ë¥¼ ì‚¬ìš©í•´ì„œ <u>ë‹¤ë¥¸ í•­ëª©ì´ ì—…ë°ì´íŠ¸ ë  ë•Œ, ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë°©ì§€í•˜ê²Œ ë˜ì–´ ì„±ëŠ¥ì„ ìµœì í™” í•  ìˆ˜ ìˆê²Œ ëœë‹¤</u>.     

```javascript
	export default React.memo(TodoItem);
```

<br>

> TodoCreate ì™„ì„±í•˜ê¸°
- ì´ë²ˆì—ëŠ” TodoCreate ì˜ ê¸°ëŠ¥ì„ ì™„ì„±í•´ì¤€ë‹¤;     

[components/TodoCreate.js]        

```javascript
	import React, { useState } from 'react';
	import styled, { css } from 'styled-components';
	import { MdAdd } from 'react-icons/md';
	import { useTodoDispatch, useTodoNextId } from '../TodoContext';

	const CircleButton = styled.button`
		background: #38d9a9;
		&:hover {
			background: #63e6be;
		}
		&:active {
			background: #20c997;
		}

		z-index: 5;
		cursor: pointer;
		width: 80px;
		height: 80px;
		align-items: center;
		justify-content: center;
		font-size: 60px;
		position: absolute;
		left: 50%;
		bottom: 0px;
		transform: translate(-50%, 50%);
		color: white;
		border-radius: 50%;
		border: none;
		outline: none;


		transition: 0.125s all ease-in;
		${props =>
			props.open &&
			css`
				background: #ff6b6b;
				&:hover {
					background: #ff8787;
				}
				&:active {
					background: #fa5252;
				}
				transform: translate(-50%, 50%) rotate(45deg);
			`}
	`;

	const InsertFormPositioner = styled.div`
		width: 100%;
		bottom: 0;
		left: 0;
		position: absolute;
	`;

	const InsertForm = styled.form`
		background: #f8f9fa;
		padding-left: 32px;
		padding-top: 32px;
		padding-right: 32px;
		padding-bottom: 72px;

		border-bottom-left-radius: 16px;
		border-bottom-right-radius: 16px;
		border-top: 1px solid #e9ecef;
	`;

	const Input = styled.input`
		padding: 12px;
		border-radius: 4px;
		border: 1px solid #dee2e6;
		width: 100%;
		outline: none;
		font-size: 18px;
		box-sizing: border-box;
	`;

	function TodoCreate() {
		const [open, setOpen] = useState(false);
		const [value, setValue] = useState('');

		const dispatch = useTodoDispatch();
		const nextId = useTodoNextId();

		const onToggle = () => setOpen(!open);
		const onChange = e => setValue(e.target.value);
		const onSubmit = e => {
			e.preventDefault(); // ìƒˆë¡œê³ ì¹¨ ë°©ì§€
			dispatch({
				type: 'CREATE',
				todo: {
					id: nextId.current,
					text: value,
					done: false
				}
			});
			setValue('');
			setOpen(false);
			nextId.current += 1;
		};

		return (
			<>
				{open && (
					<InsertFormPositioner>
						<InsertForm onSubmit={onSubmit}>
							<Input
								autoFocus
								placeholder="í•  ì¼ì„ ì…ë ¥ í›„, Enter ë¥¼ ëˆ„ë¥´ì„¸ìš”"
								onChange={onChange}
								value={value}
							/>
						</InsertForm>
					</InsertFormPositioner>
				)}
				<CircleButton onClick={onToggle} open={open}>
					<MdAdd />
				</CircleButton>
			</>
		);
	}

	export default React.memo(TodoCreate);
```
- ì´ ì»´í¬ë„ŒíŠ¸ì˜ `onSubmit` ì—ì„œëŠ” ìƒˆë¡œìš´ í•­ëª©ì„ ì¶”ê°€í•˜ëŠ” ì•¡ì…˜ì„ `dispatch` í•œ í›„, `value` ì´ˆê¸°í™” ë° `open` ê°’ì„ `false`ë¡œ ì „í™˜í•´ì£¼ì—ˆë‹¤.
- ê·¸ë¦¬ê³  ë§¨ ë§ˆì§€ë§‰ ì¤„ì—ì„œëŠ” `React.memo`ë¡œ ê°ì‹¸ì£¼ì—ˆëŠ”ë°, ì´ë ‡ê²Œ í•¨ìœ¼ë¡œì¨ TodoContext ì—ì„œ ê´€ë¦¬í•˜ê³  ìˆëŠ” `state`ê°€ ë°”ë€” ë•Œ TodoCreateì˜ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë°©ì§€ í•  ìˆ˜ ìˆë‹¤.      

<br>

ğŸ“Œ ì´ë ‡ê²Œ ì´ë²ˆ í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ! ğŸ˜‰

<br>
<br>

---

<details>
	<summary>CLICK ME!</summary>

- cf. 
	- https://react.vlpt.us/mashup-todolist/02-manage-state.html
	- https://react.vlpt.us/mashup-todolist/03-implement.html
	- https://xiubindev.tistory.com/99
	- https://rosypark.tistory.com/434

	
</details>

---
